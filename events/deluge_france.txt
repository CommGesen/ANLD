add_namespace = deluge_france
add_namespace = deluge_france_foreign
add_namespace = deluge_france_lore
# France gets exposition and triggers news about May Day
country_event = {
	id = deluge_france.1
	title = deluge_france.1.t
	desc = deluge_france.1.d
	picture = GFX_deluge_paris_small
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = deluge_france.1.a
		add_stability = -0.05
		hidden_effect = {
			news_event = { hours = 6 id = deluge_france.2 }
		}
	}
}
# Global coverage of May Day
news_event = {
	id = deluge_france.2
	title = deluge_france.2.t
	desc = deluge_france.2.d
	picture = GFX_deluge_public_funeral
	major = yes
	is_triggered_only = yes
	option = {
		name = deluge_france.2.a
		trigger = { has_government = communism }
	}
	option = {
		name = deluge_france.2.b
		trigger = { has_government = democratic }
	}
	option = {
		name = deluge_france.2.c
		trigger = { has_government = neutrality }
	}
	option = {
		name = deluge_france.2.e
		trigger = { has_government = fascism }
	}
}
# Strikes in France happen after devaluation of Franc
country_event = {
	id = deluge_france.3
	title = deluge_france.3.t
	desc = deluge_france.3.d
	picture = GFX_report_event_french_workers_strikes
	fire_only_once = yes
	trigger = {
		tag = FRA
		has_completed_focus = FRA_devaluate_the_franc
	}
	mean_time_to_happen = {
		days = 70
	}
	option = {
		name = deluge_france.3.a
		add_ideas = FRA_spirit_strikes
	}
}
# Emperor tries to gain absolute power, disbands current government, so Boulangists do a coup
country_event = {
	id = deluge_france.4
	title = deluge_france.4.t
	desc = deluge_france.4.d
	picture = GFX_report_event_maxime_weygand_and_military
	is_triggered_only = yes
	option = {##emperor gains full power
		name = deluge_france.4.a
		set_country_flag = FRA_flag_absolute_emperor
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
			last_election = "1935.12.17"
			election_frequency = 48 
		}
	}
	option = {##boulangists make emperor puppet
		name = deluge_france.4.b
		set_country_flag = FRA_flag_boulangist_coup
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
			last_election = "1935.12.17"
			election_frequency = 48 
		}
		set_party_name = { ideology = fascism long_name = FRA_boulangists_party_long name = FRA_boulangists_party }
		promote_character = FRA_deluge_louis_franchet_d_esperey
		add_ideas = FRA_spirit_emperor_napoleon
		set_temp_variable = { half_of_monarchism = party_popularity@neutrality }
		multiply_temp_variable = { half_of_monarchism = 0.5 }
		custom_effect_tooltip = FRA_custom_effect_tooltip_35
		add_popularity = {
			ideology = fascism
			popularity = half_of_monarchism
		}
	}
}
# Boulangists can change leadership
country_event = {
	id = deluge_france.5
	title = deluge_france.5.t
	desc = deluge_france.5.d
	picture = GFX_report_event_louis_franchet_d_esperey
	is_triggered_only = yes
	option = {##d'esperey remains
		name = deluge_france.5.a
		add_political_power = 2
	}
	option = {##weygand gains power
		name = deluge_france.5.b
		promote_character = FRA_deluge_maxime_weygand
	}
}
# France proclaims republic and decides what to do with the Bonaparte family and the emperor
country_event = {
	id = deluge_france.6
	title = deluge_france.6.t
	desc = deluge_france.6.d
	picture = GFX_report_event_french_republic
	is_triggered_only = yes
	option = {##exile them
		name = deluge_france.6.a
		
	}
	option = {##kill them
		name = deluge_france.6.b
		
	}
}
# After deciding what happens to Bonaparte family one of factions gets power: radicals, democrats or ultra-nationalists
country_event = {
	id = deluge_france.7
	title = deluge_france.7.t
	desc = deluge_france.7.d
	picture = GFX_report_event_louis_franchet_d_esperey #change later
	is_triggered_only = yes
	option = {##radicals
		name = deluge_france.7.a
		
	}
	option = {##democrats
		name = deluge_france.7.b
		
	}
	option = {##ultra-nationalists
		name = deluge_france.7.c
		
	}
}
# Emperor turns France into consitutional monarchy (reformer path) and new party is elected
country_event = {
	id = deluge_france.8
	title = deluge_france.8.t
	desc = deluge_france.8.d
	picture = GFX_report_event_louis_bonaparte
	is_triggered_only = yes
	option = {##radical party
		name = deluge_france.8.a
		set_country_flag = FRA_flag_radical_party_won
	}
	option = {##democratic republican alliance
		name = deluge_france.8.b
		set_country_flag = FRA_flag_democratic_republican_alliance_won
	}
	option = {##popular republican movement
		name = deluge_france.8.c
		set_country_flag = FRA_flag_popular_republican_movement_won
	}
}
# Radical Party chooses its leader
country_event = {
	id = deluge_france.9
	title = deluge_france.9.t
	desc = deluge_france.9.d
	picture = GFX_report_event_french_radical_party_politicians
	is_triggered_only = yes
	option = {##Édouard Daladier
		name = deluge_france.9.a
		promote_character = FRA_deluge_edouard_daladier
		set_party_name = { ideology = democratic long_name = FRA_radical_party_name_long name = FRA_radical_party_name }
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			last_election = "1935.12.17"
			election_frequency = 48 
		}
		if = {
			limit = {
				NOT = {
					has_idea = restricted
				}
			}
			add_ideas = {
				restricted
			}
		}
		set_country_flag = cant_change_voting_law
		custom_effect_tooltip = cant_change_voting_law_tooltip
	}
	option = {##Albert Sarraut
		name = deluge_france.9.b
		promote_character = FRA_deluge_albert_sarraut
		set_party_name = { ideology = democratic long_name = FRA_radical_party_name_long name = FRA_radical_party_name }
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			last_election = "1935.12.17"
			election_frequency = 48 
		}
		if = {
			limit = {
				NOT = {
					has_idea = restricted
				}
			}
			add_ideas = {
				restricted
			}
		}
		set_country_flag = cant_change_voting_law
		custom_effect_tooltip = cant_change_voting_law_tooltip
	}
}
# Democratic Republican Alliance chooses its leader
country_event = {
	id = deluge_france.10
	title = deluge_france.10.t
	desc = deluge_france.10.d
	picture = GFX_report_event_reynauds_cabinet
	is_triggered_only = yes
	option = {##Paul Reynaud
		name = deluge_france.10.a
		promote_character = FRA_deluge_paul_reynaud
		set_party_name = { ideology = democratic long_name = FRA_democratic_republican_alliance_party_long name = FRA_democratic_republican_alliance_party }
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			last_election = "1935.12.17"
			election_frequency = 48 
		}
		if = {
			limit = {
				NOT = {
					has_idea = restricted
				}
			}
			add_ideas = {
				restricted
			}
		}
		set_country_flag = cant_change_voting_law
		custom_effect_tooltip = cant_change_voting_law_tooltip
	}
	option = {##Pierre-Étienne Flandin
		name = deluge_france.10.b
		promote_character = FRA_deluge_pierre_etienne_flandin
		set_party_name = { ideology = democratic long_name = FRA_democratic_republican_alliance_party_long name = FRA_democratic_republican_alliance_party }
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			last_election = "1935.12.17"
			election_frequency = 48 
		}
		if = {
			limit = {
				NOT = {
					has_idea = restricted
				}
			}
			add_ideas = {
				restricted
			}
		}
		set_country_flag = cant_change_voting_law
		custom_effect_tooltip = cant_change_voting_law_tooltip
	}
}

news_event = {
	id = deluge_france.27
	title = deluge_france27title
	desc = deluge_france27desc
	
	picture = GFX_deluge_paris_large
	trigger = {
			LBA={
				controls_state = 448
				has_war_with = FRA
			}
	}
	fire_only_once = yes
	
	option = {
		name = deluge_france27opta
		trigger = {
			NOT={
				OR={
					tag = FRA
					tag = LBA
				}
			}
		}
		hidden_effect = {
			LBA={
				transfer_state = 451
				transfer_state = 450
				transfer_state = 448
				transfer_state = 449
				transfer_state = 661
				transfer_state = 662
				transfer_state = 663
				white_peace = FRA
				drop_cosmetic_tag = yes
			}
			FRA={
				white_peace = LBA
				add_stability = -0.01
			}
		}
	}
	option = {
		name = deluge_france27opta
		trigger = {
			tag = FRA
		}
		hidden_effect = {
			LBA={
				transfer_state = 451
				transfer_state = 450
				transfer_state = 448
				transfer_state = 449
				transfer_state = 661
				transfer_state = 662
				transfer_state = 663
				white_peace = FRA
				drop_cosmetic_tag = yes
			}
			FRA={
				white_peace = LBA
				add_stability = -0.01
			}
		}
	}
	option = {
		name = deluge_france27opta
		trigger = {
			tag = LBA
		}
		hidden_effect = {
			LBA={
				transfer_state = 451
				transfer_state = 450
				transfer_state = 448
				transfer_state = 449
				transfer_state = 661
				transfer_state = 662
				transfer_state = 663
				white_peace = FRA
				drop_cosmetic_tag = yes
			}
			FRA={
				white_peace = LBA
				add_stability = -0.01
			}
		}
	}
}
news_event = {
	id = deluge_france.28
	title = deluge_france28title
	desc = deluge_france28desc
	
	picture = GFX_deluge_paris_large
	trigger = {
		FRA={
			controls_state = 663
		}
	}
	fire_only_once = yes
	
	option = {
		name = deluge_france28opta
		hidden_effect = {
			FRA={
				transfer_state = 451
				transfer_state = 450
				transfer_state = 448
				transfer_state = 449
				transfer_state = 661
				transfer_state = 662
				transfer_state = 663
				transfer_state = 939
			}
		}
	}
}
